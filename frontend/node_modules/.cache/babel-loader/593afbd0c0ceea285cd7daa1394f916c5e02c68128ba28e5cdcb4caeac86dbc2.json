{"ast":null,"code":"var _jsxFileName = \"/home/eduardo/Documents/workspace/finance-app/frontend/src/useTransaction.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useContext, useEffect, useState } from \"react\";\nimport { instance } from \"./services/instanceAxios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransactionContext = /*#__PURE__*/createContext({});\nexport const TransactionProvider = ({\n  children\n}) => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  useEffect(() => {\n    instance.get('/transactions').then(response => setTransactions(response.data.transactions));\n  }, []);\n  const createTransaction = async transactionInput => {\n    const response = await instance.post('/transactions', {\n      ...transactionInput,\n      createdAt: new Date()\n    });\n    const {\n      transaction\n    } = response.data;\n    setTransactions([...transactions, transaction]);\n  };\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: {\n      transactions,\n      createTransaction\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(TransactionProvider, \"tSC852gg/pAfbHr6jYEePbawnUU=\");\n_c = TransactionProvider;\nexport const useTransaction = () => {\n  _s2();\n  return useContext(TransactionContext);\n};\n_s2(useTransaction, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["createContext","useContext","useEffect","useState","instance","jsxDEV","_jsxDEV","TransactionContext","TransactionProvider","children","_s","transactions","setTransactions","get","then","response","data","createTransaction","transactionInput","post","createdAt","Date","transaction","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTransaction","_s2","$RefreshReg$"],"sources":["/home/eduardo/Documents/workspace/finance-app/frontend/src/useTransaction.tsx"],"sourcesContent":["import { Children, createContext, ReactNode, useContext, useEffect, useState } from \"react\";\nimport { instance } from \"./services/instanceAxios\";\n\n\ninterface Transaction {\n    id: number;\n    title: string;\n    type: string;\n    category: string;\n    amount: number;\n    createdAt: string;\n}\n\ninterface TransactionProviderProps {\n    children: ReactNode; // Aceita qualquer tipo \n}\n\ninterface TransactionContextData {\n    transactions: Transaction[];\n    createTransaction: (transaction: transactionInput) => Promise<void>;\n}\n\ntype transactionInput = Omit<Transaction, 'id' | 'createdAt'>;\n\nconst TransactionContext = createContext<TransactionContextData>({} as TransactionContextData);\n\n\nexport const TransactionProvider = ({ children }: TransactionProviderProps) => {\n\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\n    \n    useEffect(() => {\n        instance.get('/transactions').then(response => setTransactions(response.data.transactions));\n    }, []);\n    \n    const createTransaction = async (transactionInput: transactionInput) => {\n        const response = await instance.post('/transactions', {\n            ...transactionInput,\n            createdAt: new Date(),\n        });\n        const { transaction } = response.data;\n\n        setTransactions([\n            ...transactions,\n            transaction\n        ]);\n    }\n\n    return (\n        <TransactionContext.Provider value={ {transactions, createTransaction} }>\n            { children }\n        </TransactionContext.Provider>\n    );\n}\n\nexport const useTransaction = () => useContext(TransactionContext);\n\n"],"mappings":";;;AAAA,SAAmBA,aAAa,EAAaC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3F,SAASC,QAAQ,QAAQ,0BAA0B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAuBpD,MAAMC,kBAAkB,gBAAGP,aAAa,CAAyB,CAAC,CAA2B,CAAC;AAG9F,OAAO,MAAMQ,mBAAmB,GAAGA,CAAC;EAAEC;AAAmC,CAAC,KAAK;EAAAC,EAAA;EAE3E,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAgB,EAAE,CAAC;EAEnED,SAAS,CAAC,MAAM;IACZE,QAAQ,CAACS,GAAG,CAAC,eAAe,CAAC,CAACC,IAAI,CAACC,QAAQ,IAAIH,eAAe,CAACG,QAAQ,CAACC,IAAI,CAACL,YAAY,CAAC,CAAC;EAC/F,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,iBAAiB,GAAG,MAAOC,gBAAkC,IAAK;IACpE,MAAMH,QAAQ,GAAG,MAAMX,QAAQ,CAACe,IAAI,CAAC,eAAe,EAAE;MAClD,GAAGD,gBAAgB;MACnBE,SAAS,EAAE,IAAIC,IAAI,CAAC;IACxB,CAAC,CAAC;IACF,MAAM;MAAEC;IAAY,CAAC,GAAGP,QAAQ,CAACC,IAAI;IAErCJ,eAAe,CAAC,CACZ,GAAGD,YAAY,EACfW,WAAW,CACd,CAAC;EACN,CAAC;EAED,oBACIhB,OAAA,CAACC,kBAAkB,CAACgB,QAAQ;IAACC,KAAK,EAAG;MAACb,YAAY;MAAEM;IAAiB,CAAG;IAAAR,QAAA,EAClEA;EAAQ;IAAAgB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACe,CAAC;AAEtC,CAAC;AAAAlB,EAAA,CA1BYF,mBAAmB;AAAAqB,EAAA,GAAnBrB,mBAAmB;AA4BhC,OAAO,MAAMsB,cAAc,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAM9B,UAAU,CAACM,kBAAkB,CAAC;AAAA;AAACwB,GAAA,CAAtDD,cAAc;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}